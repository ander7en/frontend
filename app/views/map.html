<div ng-controller="MapCtrl as vm">

  <br/>

  Enter pickup address: <br/>
  <input id="Pickups" places-auto-complete size=80 placeholder="Pickup"
         ng-model="vm.pickupAddress"
         component-restrictions="{country:'ee'}"
         on-place-changed="vm.pickupPlaceChanged()"/> <br/>
  <br>
  Enter destination address: <br/>
  <input id="Destinations" places-auto-complete size=80 placeholder="Destination"
         ng-model="vm.destinationAddress"
         component-restrictions="{country:'ee'}"
         on-place-changed="vm.destinationPlaceChanged()"/> <br/>
  <br>
  <br>
  <div ng-show="vm.pickupPlace">
    Pickup Address = {{vm.pickupPlace.formatted_address}} <br/>
    Pickup Location: {{vm.pickupPlace.geometry.location}}<br/>
  </div>

  <br>
  <br>
  <div ng-show="vm.destinationPlace">
    Destination Address = {{vm.destinationPlace.formatted_address}} <br/>
    Destination Location: {{vm.destinationPlace.geometry.location}}<br/>
  </div>

  <br>
  <br>
  <div ng-show="vm.map.directionsRenderers[0].directions.routes[0].legs[0].distance">
    Distance: {{vm.map.directionsRenderers[0].directions.routes[0].legs[0].distance.text}}<br>
    Average time of travel: {{vm.map.directionsRenderers[0].directions.routes[0].legs[0].duration.text}}<br>
  </div>


  <map center='current-position'
          geo-fallback-center="[40.74, -74.18]"
          geo-callback="vm.callbackFunc('you')">

    <!-- Static Direction for demonstrating ngMap directive -->
    <directions
      draggable="false"
      panel="directions-panel"
      travel-mode="DRIVING"
      origin={{vm.pickupPlace.geometry.location}}
      destination={{vm.destinationPlace.geometry.location}}>
    </directions>
  </map>


</div>


